<?xml version="1.0" encoding="UTF-8"?>

<!--
    Copyright (c) 2015 onox

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<PropertyList include="als-lights.xml">

    <!--
        Note: Properties in /systems/electrical/ are computed by
        Nasal/electrical.nas during replay, thus do not need to be
        recorded.
    -->
    
    <logic>
        <name>Amphibious Panel Lights On/Off</name>
        <input>
            <and>
                <less-than>
                    <property>/systems/electrical/outputs/gear-select</property>
                    <value>31.5</value>
                </less-than>
                <greater-than>
                    <property>/systems/electrical/outputs/gear-select</property>
                    <value>20.0</value>
                </greater-than>
            </and>
        </input>
        <output>
            <property>/sim/model/c182s/lighting/gear-select</property>
        </output>
    </logic>

    <logic>
        <name>Amphibious Advisory Lights On/Off</name>
        <input>
            <and>
                <less-than>
                    <property>systems/electrical/outputs/gear-advisory</property>
                    <value>31.5</value>
                </less-than>
                <greater-than>
                    <property>/systems/electrical/outputs/gear-advisory</property>
                    <value>20.0</value>
                </greater-than>
            </and>
        </input>
        <output>
            <property>/sim/model/c182s/lighting/gear-advisory</property>
        </output>
    </logic>

    <filter>
        <name>Gear Glare Dim</name>
        <type>gain</type>
        <gain>1</gain>
        <input>
            <condition>
                <and>
                    <property>/controls/lighting/gearled</property>
                    <property>/sim/model/c182s/lighting/gear-advisory</property>
                </and>
            </condition>
            <value>.35</value>
        </input>
        <input>
            <condition>
                <and>
                    <equals>
                        <property>/controls/lighting/gearled</property>
                        <value>0</value>
                    </equals>
                    <property>/sim/model/c182s/lighting/gear-select</property>
                </and>
            </condition>
            <value>.175</value>
        </input>
        <output>
            <property>/controls/lighting/factor-ledglare</property>
        </output>
    </filter>
    <filter>
        <name>Gear Led Dim</name>
        <type>gain</type>
        <gain>1</gain>
        <input>
            <condition>
                <and>
                    <property>/controls/lighting/gearled</property>
                    <property>/sim/model/c182s/lighting/gear-select</property>
                </and>
            </condition>
            <value>1</value>
        </input>
        <input>
            <condition>
                <and>
                    <equals>
                        <property>/controls/lighting/gearled</property>
                        <value>0</value>
                    </equals>
                    <property>/sim/model/c182s/lighting/gear-select</property>
                </and>
            </condition>
            <value>.35</value>
        </input>
        <output>
            <property>/controls/lighting/factor-led</property>
        </output>
    </filter>

</PropertyList>
